#!name=å–œé©¬æ‹‰é›…å»å¹¿å‘Š
#!desc=ç§»é™¤å¼€å±å¹¿å‘Šã€æ’­æ”¾å™¨å¹¿å‘Šï¼Œç²¾ç®€é¢‘é“å’Œæˆ‘çš„é¡µé¢ã€‚
#!author=å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!icon=https://raw.githubusercontent.com/luestr/IconResource/main/App_icon/120px/Himalaya.png
#!category=ğŸš« AD Block

#!openUrl=https://apps.apple.com/app/id876336838
#!tag=å»å¹¿å‘Š
#!loon_version=3.2.4(787)
#!homepage=https://github.com/luestr/ProxyResource/blob/main/README.md
#!date=2024-11-29 23:49:59

[Rule]
# å¹¿å‘Šä¸‹å‘
DOMAIN,adse.ximalaya.com,REJECT
DOMAIN,adse.wsa.ximalaya.com,REJECT
# æ‹¦æˆªHTTPDNS
DOMAIN,dns2.q2cdn.com,REJECT
URL-REGEX,"^http:\/\/xmc\.ximalaya\.com\/xmlymain-login-web\/login\/",REJECT

[URL Rewrite]
# æ‹¦æˆªHTTPDNS
^https:\/\/gslbali\.ximalaya\.com\/linkeye-cloud\/httpdns\/ - reject

[Map Local]
# æœç´¢ - æœç´¢å¡«å……è¯ã€æ¨èæœç´¢
^https:\/\/(search|searchwsa)\.ximalaya\.com\/hub\/(guideWord|hotWord)V\d\/ data-type=text data="{}" status-code=200

^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/discovery-feed\/v\d\/scene\/listen\/refresh\? data-type=text data="{}" status-code=200

# é¦–é¡µ - å³ä¸Šè§’çº¢åŒ…
^https:\/\/(m|mwsa)\.ximalaya\.com\/x-web-activity\/signIn\/getHomePageSignInInfo\/ data-type=text data="{}" status-code=200

# è®¢é˜… - è®¢é˜…æ¨è
#^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/subscribe\/v\d\/subscribe\/tagAlbumList$ data-type=text data="{}" status-code=200

# è®¢é˜… - è¿½æ›´ -è¿½æ›´æ¨è
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/track-feed\/v\d\/chase\/recommend\/ data-type=text data="{}" status-code=200

# è®¢é˜… - å…³æ³¨ - ç²¾é€‰èŠ‚ç›®æ¨è
^https:\/\/mobile\.ximalaya\.com\/social-web\/follow-stream\/category\/\d+$ data-type=text data="{}" status-code=200

# æ’­æ”¾å™¨ - æ¨è
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/mobile-playpage\/playpage\/recommendContentV\d\/ data-type=text data="{}" status-code=200

# æ’­æ”¾å™¨ - æ¨å¹¿
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/mobile-playpage\/playpage\/recommend\/resource\/allocation\/ data-type=text data="{}" status-code=200

# å¼¹çª—
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/firework-portal\/v\d+\/sync\? data-type=text data="{}" status-code=200

# çš®è‚¤é…ç½®
^https:\/\/(mobile|mobwsa)\.ximalaya\.com\/app-skin-service\/skin\/setting\/info\/ data-type=text data="{}" status-code=200

# æˆ‘çš„é¡µé¢ - ç›´æ’­æé†’æ°”æ³¡
^https:\/\/livewsa\.ximalaya\.com\/lamia\/v1\/subscribe\/status$ data-type=text data="{}" status-code=200

# æˆ‘çš„é¡µé¢ - æœ¬åœ° - ä½ å¯èƒ½æ„Ÿå…´è¶£çš„å†…å®¹
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/subscribe\/v\d\/subscribe\/recommend\? data-type=text data="{}" status-code=200

# æˆ‘çš„é¡µé¢ - å·²è´­ - ä¸ºä½ æ¨è
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/mobile-user\/v\d\/purchased\/recommend\/ data-type=text data="{}" status-code=200

# è®¢é˜… - åœˆå­ - åœˆå­æ¨è
^https:\/\/(m|mwsa)\.ximalaya\.com\/community\/square\/v\d\/stream\? data-type=text data="{"data":{"cards":[{"content":{},"type":"RECOMMENDS"}]},"ret":0}" status-code=200 header="Content-Type:text/json"

[Script]
body_rewrite_31 = type=http-response, pattern=^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/football-portal\/diff2\/batch\?, script-path=https://github.com/hchichi/esdeath/raw/main/Chores/js/body-rewrite.js, requires-body=true, max-size=-1, timeout=30, argument=%5B%5B%22json-del%22%2C%5B%22json.ad%22%2C%22json.toc%22%5D%5D%5D

body_rewrite_51 = type=http-response, pattern=^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/mobile-user\/v\d\/homePage\/, script-path=https://github.com/hchichi/esdeath/raw/main/Chores/js/body-rewrite.js, requires-body=true, max-size=-1, timeout=30, argument=%5B%5B%22json-del%22%2C%5B%22data.freeListenV2%22%5D%5D%5D

[MITM]
hostname = %APPEND% gslbali.ximalaya.com, search.ximalaya.com, searchwsa.ximalaya.com, mobile.ximalaya.com, mobilehera.ximalaya.com, m.ximalaya.com, mwsa.ximalaya.com, mobwsa.ximalaya.com

